databaseChangeLog:
  - changeSet:
      id: 2023-06-29_02-51_change_fk_on_delete
      author: ainlorn
      changes:
        - dropForeignKeyConstraint:
            baseTableName: repository_file_tags
            constraintName: repository_file_tags_file_id__repository_files_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_file_tags
            baseColumnNames: file_id
            constraintName: repository_file_tags_file_id__repository_files_id__fk
            onDelete: CASCADE
            referencedTableName: repository_files
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: repository_commit_tags
            constraintName: repository_commit_tags_file_id__repository_commits_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_commit_tags
            baseColumnNames: commit_id
            constraintName: repository_commit_tags_file_id__repository_commits_id__fk
            onDelete: CASCADE
            referencedTableName: repository_commits
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: repository_tags
            constraintName: repository_tags_repo_id__repositories_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_tags
            baseColumnNames: repo_id
            constraintName: repository_tags_repo_id__repositories_id__fk
            onDelete: CASCADE
            referencedTableName: repositories
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: repository_users
            constraintName: repository_users_repo_id__repositories_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_users
            baseColumnNames: repo_id
            constraintName: repository_users_repo_id__repositories_id__fk
            onDelete: CASCADE
            referencedTableName: repositories
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: repository_users
            constraintName: repository_users_user_id__users_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_users
            baseColumnNames: user_id
            constraintName: repository_users_user_id__users_id__fk
            onDelete: CASCADE
            referencedTableName: users
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: repository_files
            constraintName: repository_files_repo_id__repositories_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_files
            baseColumnNames: repo_id
            constraintName: repository_files_repo_id__repositories_id__fk
            onDelete: CASCADE
            referencedTableName: repositories
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: repository_commits
            constraintName: repository_commits_repo_id__repositories_id__fk
        - addForeignKeyConstraint:
            baseTableName: repository_commits
            baseColumnNames: repo_id
            constraintName: repository_commits_repo_id__repositories_id__fk
            onDelete: CASCADE
            referencedTableName: repositories
            referencedColumnNames: id

